{
	"swagger": "2.0",
	"info": {
		"version": "1.0.0",
		"title": "YOLO API specification"
	},
	"host": "localhost:8080",
	"basePath": "/api-docs",
	"tags": [
		{
			"name": "User and Authentication",
			"description": "The endpoints for the user and authentication"
		},
		{
			"name": "Posts",
			"description": "The endpoints for the posts"
		},
		{
			"name": "Upvotes and downvotes",
			"description": "The endpoints for the upvotes and downvotes"
		}
	],
	"schemes": ["http"],
	"consumes": ["application/json", "application/xml", "application/x-www-form-urlencoded"],
	"produces": ["application/json", "application/xml"],
	"paths": {
		"/signup": {
			"post": {
				"tags": ["User and Authentication"],
				"description": "Creates a new user if the email provided is not blacklisted.",
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"description": "User object that is stored to the database",
						"required": "true",
						"schema": {
							"title": "body",
							"type": "object",
							"properties": {
								"username": {
									"type": "string",
									"example": "antonia",
									"description": "The username of the user"
								},
								"email": {
									"type": "string",
									"example": "antonia@antonia.com",
									"description": "The email of the user"
								},
								"password": {
									"type": "string",
									"example": "antonia1234",
									"description": "The password of the user"
								}
							},
							"xml": {
								"name": "data"
							}
						}
					}
				],
				"responses": {
					"201": {
						"description": "Success, new user has been added to the database",
						"schema": {
							"title": "user",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"id": {
									"type": "integer",
									"format": "int64",
									"example": 6,
									"description": "The id of the user, primary key",
									"xml": {
										"attribute": "true"
									}
								},
								"username": {
									"type": "string",
									"example": "antonia",
									"description": "The username of the user",
									"xml": {
										"attribute": "true"
									}
								},
								"email": {
									"type": "string",
									"example": "email@email.com",
									"description": "The email of the user",
									"xml": {
										"attribute": "true"
									}
								},
								"life_points": {
									"type": "integer",
									"format": "int64",
									"example": 50,
									"description": "The  life points of the user",
									"xml": {
										"attribute": "true"
									}
								},
								"token": {
									"type": "string",
									"example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTAsImVtYWlsIjoieW9yZDIyMjIyMzIyMjIyMjIyMjIyMjIyMjIyMjIyYW5AeW9yZGFuLmRldiIsImlhdCI6MTYwMjU5OTIzMSwiZXhwIjoxNjAyNjAyODMxfQ.yswfYgu5bsojpkmE7aZo1uwK71tFxH0eryDeg8dSPPc",
									"description": "The JWT from the server",
									"xml": {
										"attribute": "true"
									}
								}
							}
						}
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "Your email is blacklisted || Your email is already taken || Your username is already taken || SQLite Error Message"
								}
							}
						}
					}
				}
			}
		},
		"/signin": {
			"post": {
				"tags": ["User and Authentication"],
				"description": "Signs in the user.",
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"description": "User object containing the username and password",
						"required": "true",
						"schema": {
							"title": "body",
							"type": "object",
							"properties": {
								"username": {
									"type": "string",
									"example": "antonia",
									"description": "The username of the user"
								},
								"password": {
									"type": "string",
									"example": "antonia1234",
									"description": "The password of the user"
								}
							},
							"xml": {
								"name": "data"
							}
						}
					}
				],
				"responses": {
					"200": {
						"description": "User was authenticated successfully",
						"schema": {
							"title": "user",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"id": {
									"type": "integer",
									"format": "int64",
									"example": 6,
									"description": "The id of the user, primary key",
									"xml": {
										"attribute": "true"
									}
								},
								"username": {
									"type": "string",
									"example": "antonia",
									"description": "The username of the user",
									"xml": {
										"attribute": "true"
									}
								},
								"email": {
									"type": "string",
									"example": "email@email.com",
									"description": "The email of the user",
									"xml": {
										"attribute": "true"
									}
								},
								"life_points": {
									"type": "integer",
									"format": "int64",
									"example": 50,
									"description": "The life points of the user",
									"xml": {
										"attribute": "true"
									}
								},
								"token": {
									"type": "string",
									"example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTAsImVtYWlsIjoieW9yZDIyMjIyMzIyMjIyMjIyMjIyMjIyMjIyMjIyYW5AeW9yZGFuLmRldiIsImlhdCI6MTYwMjU5OTIzMSwiZXhwIjoxNjAyNjAyODMxfQ.yswfYgu5bsojpkmE7aZo1uwK71tFxH0eryDeg8dSPPc",
									"description": "The JWT from the server",
									"xml": {
										"attribute": "true"
									}
								}
							}
						}
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "Invalid username/password or user does not exist! || Your account, your posts and your votes were deleted because you hit 0 life points. || SQLite Error Message"
								}
							}
						}
					}
				}
			}
		},
		"/me": {
			"get": {
				"tags": ["User and Authentication"],
				"description": "Signs in the user.",
				"responses": {
					"200": {
						"description": "Fetches user data",
						"schema": {
							"title": "user",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"id": {
									"type": "integer",
									"format": "int64",
									"example": 6,
									"description": "The id of the user, primary key",
									"xml": {
										"attribute": "true"
									}
								},
								"username": {
									"type": "string",
									"example": "antonia",
									"description": "The username of the user",
									"xml": {
										"attribute": "true"
									}
								},
								"email": {
									"type": "string",
									"example": "email@email.com",
									"description": "The email of the user",
									"xml": {
										"attribute": "true"
									}
								},
								"life_points": {
									"type": "integer",
									"format": "int64",
									"example": 50,
									"description": "The life points of the user",
									"xml": {
										"attribute": "true"
									}
								}
							}
						}
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "SQLite Error Message"
								}
							}
						}
					}
				}
			}
		},
		"/myposts": {
			"get": {
				"tags": ["Posts"],
				"description": "Fetches posts that the user created",
				"responses": {
					"200": {
						"description": "Array with the posts",
						"schema": {
							"title": "mypost",
							"type": "array",
							"xml": {
								"name": "data"
							},
							"items": {
								"type": "object",
								"properties": {
									"id": {
										"type": "integer",
										"format": "int64",
										"description": "The id of the post"
									},
									"message": {
										"type": "string",
										"description": "The message of the post"
									},
									"points": {
										"type": "integer",
										"format": "int64",
										"description": "The points of the post"
									},
									"date_created": {
										"type": "dateform",
										"description": "The date the post was created"
									},
									"authorId": {
										"type": "integer",
										"format": "int64",
										"description": " Foreign key referencing the user id of the author"
									}
								}
							},
							"example": [
								{
									"id": 21,
									"message": "Hi! This is a message.",
									"points": 12,
									"date_created": "2020-10-05 10:06:49",
									"authorId": 8
								},
								{
									"id": 22,
									"message": "Hi! This is another message.",
									"points": 2,
									"date_created": "2020-10-05 09:06:49",
									"authorId": 3
								}
							]
						}
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "SQLite Error Message"
								}
							}
						}
					}
				}
			}
		},
		"/users/:id": {
			"patch": {
				"tags": ["User and Authentication"],
				"description": "Updates the user's information",
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"description": "User object containing any changes to the username and/or password",
						"required": "true",
						"schema": {
							"title": "body",
							"type": "object",
							"properties": {
								"username": {
									"type": "string",
									"example": "antonia",
									"description": "The changed username of the user"
								},
								"password": {
									"type": "string",
									"example": "antonia1234",
									"description": "The changed password of the user"
								}
							},
							"xml": {
								"name": "data"
							}
						}
					},
					{
						"name": "id",
						"description": "The ID of the user that is to be updated. By default, the ID is the ID of the user making the request ",
						"in": "path",
						"schema": {
							"title": "id",
							"type": "integer"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success, the user's information was updated"
					},
					"403": {
						"description": "You can only update your own details"
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "No user ID provided || No username and password specified || Username taken"
								}
							}
						}
					}
				}
			},
			"delete": {
				"tags": ["User and Authentication"],
				"description": "Deletes the user",
				"parameters": [
					{
						"name": "id",
						"description": "The ID of the user that is to be deleted. By default, the ID is the ID of the user making the request ",
						"in": "path",
						"schema": {
							"title": "id",
							"type": "integer"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success, the user has been deleted"
					},
					"403": {
						"description": "You can only delete your own account"
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "SQLite Error Message"
								}
							}
						}
					}
				}
			}
		},
		"/google-url": {
			"get": {
				"tags": ["User and Authentication"],
				"description": "Uses the Google OAUTH2.0 client to generate a login URL for the Sign in with Google/Sign up with Google buttons.",
				"responses": {
					"200": {
						"description": "The Google consent screen URL",
						"schema": {
							"title": "url",
							"type": "string",
							"example": "https://accounts.google.com/o/oauth2/v2/auth?access_type=offline&prompt=consent&scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.email%20https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fuserinfo.profile&response_type=code&client_id=974845574224-ck6jtidv4ftch9t7kqt5stt8b9bub0h8.apps.googleusercontent.com&redirect_uri=http%3A%2F%2Flocalhost%3A8081%2Fcallback",
							"xml": {
								"name": "data"
							}
						}
					}
				}
			}
		},
		"/google-account": {
			"post": {
				"tags": ["User and Authentication"],
				"description": "Signs up/Signs in the user with Google.",
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"description": "Authorization code returned from Google",
						"required": "true",
						"schema": {
							"title": "body",
							"type": "object",
							"properties": {
								"code": {
									"type": "string",
									"example": "4/0AfDhmrhK5LChWsAWc8XFEPy2kehsyIdo2s1RTA79_Kc8lWqMguoCznXHYRvGTSYC-5io3w",
									"description": "The authorization code returned from Google"
								}
							},
							"xml": {
								"name": "data"
							}
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success, the user was signed up/signed in with Google || The user was deleted since they have 0 or less than 0 life points.",
						"schema": {
							"title": "user",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"id": {
									"type": "integer",
									"format": "int64",
									"example": 6,
									"xml": {
										"attribute": "true"
									}
								},
								"username": {
									"type": "string",
									"example": "antonia",
									"xml": {
										"attribute": "true"
									}
								},
								"email": {
									"type": "string",
									"example": "email@email.com",
									"xml": {
										"attribute": "true"
									}
								},
								"life_points": {
									"type": "integer",
									"format": "int64",
									"example": 50,
									"xml": {
										"attribute": "true"
									}
								},
								"token": {
									"type": "string",
									"example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTAsImVtYWlsIjoieW9yZDIyMjIyMzIyMjIyMjIyMjIyMjIyMjIyMjIyYW5AeW9yZGFuLmRldiIsImlhdCI6MTYwMjU5OTIzMSwiZXhwIjoxNjAyNjAyODMxfQ.yswfYgu5bsojpkmE7aZo1uwK71tFxH0eryDeg8dSPPc",
									"xml": {
										"attribute": "true"
									}
								},
								"error": {
									"type": "string",
									"example": "Your account, your posts and your votes were deleted because you hit 0 life points.",
									"xml": {
										"attribute": "true"
									}
								}
							}
						}
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "Google code not provided || Your email is blacklisted || Your username is already taken || SQLite Error Message"
								}
							}
						}
					}
				}
			}
		},
		"/posts": {
			"get": {
				"tags": ["Posts"],
				"description": "Fetches all posts",
				"responses": {
					"200": {
						"description": "Success, an array containing all posts",
						"schema": {
							"title": "posts",
							"type": "array",
							"xml": {
								"name": "data"
							},
							"items": {
								"type": "object",
								"properties": {
									"id": {
										"type": "integer",
										"format": "int64",
										"description": "The id of the post"
									},
									"message": {
										"type": "string",
										"description": "The message of the post"
									},
									"points": {
										"type": "integer",
										"format": "int64",
										"description": "The points of the post"
									},
									"date_created": {
										"type": "dateform",
										"description": "The date the post was created"
									},
									"authorId": {
										"type": "integer",
										"format": "int64",
										"description": " Foreign key referencing the user id of the author"
									}
								}
							},
							"example": [
								{
									"id": 21,
									"message": "Hi! This is a message.",
									"points": 12,
									"date_created": "2020-10-05 10:06:49",
									"authorId": 8
								},
								{
									"id": 22,
									"message": "Hi! This is another message.",
									"points": 2,
									"date_created": "2020-10-05 09:06:49",
									"authorId": 3
								}
							]
						}
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "SQLite Error Message"
								}
							}
						}
					}
				}
			},
			"post": {
				"tags": ["Posts"],
				"description": "Creates a new post",
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"description": "The post object containing the message",
						"required": "true",
						"schema": {
							"title": "body",
							"type": "object",
							"properties": {
								"message": {
									"type": "string",
									"example": "Example message",
									"description": "The post message"
								}
							},
							"xml": {
								"name": "data"
							}
						}
					}
				],
				"responses": {
					"201": {
						"description": "The post fetched",
						"schema": {
							"title": "post",
							"type": "object",
							"properties": {
								"id": {
									"type": "integer",
									"format": "int64",
									"example": 6,
									"xml": {
										"attribute": "true"
									}
								},
								"message": {
									"type": "string",
									"example": "The message of the post",
									"xml": {
										"attribute": "true"
									}
								},
								"points": {
									"type": "integer",
									"format": "int64",
									"example": 0,
									"xml": {
										"attribute": "true"
									}
								},
								"date_created": {
									"type": "dateform",
									"example": "2020-10-05 09:06:49",
									"xml": {
										"attribute": "true"
									}
								},
								"authorId": {
									"type": "integer",
									"format": "int64",
									"example": 8,
									"xml": {
										"attribute": "true"
									}
								}
							}
						}
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "SQLite Error Message"
								}
							}
						}
					}
				}
			}
		},
		"/posts/:id": {
			"get": {
				"tags": ["Posts"],
				"description": "Get a specific post",
				"parameters": [
					{
						"name": "id",
						"description": "The ID of the post that is to be fetched.",
						"in": "path",
						"schema": {
							"title": "id",
							"type": "integer"
						}
					}
				],
				"responses": {
					"200": {
						"description": "The post fetched",
						"schema": {
							"title": "post",
							"type": "object",
							"properties": {
								"message": {
									"type": "string",
									"example": "Example message"
								}
							}
						}
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "SQLite Error Message"
								}
							}
						}
					}
				}
			},
			"patch": {
				"tags": ["Posts"],
				"description": "Update a specific post",
				"parameters": [
					{
						"in": "body",
						"name": "body",
						"description": "The post object containing the updated message",
						"required": "true",
						"schema": {
							"title": "body",
							"type": "object",
							"properties": {
								"message": {
									"type": "string",
									"example": "Example updated message",
									"description": "The updated message"
								}
							},
							"xml": {
								"name": "data"
							}
						}
					},
					{
						"name": "id",
						"description": "The ID of the post that is to be updated.",
						"in": "path",
						"schema": {
							"title": "id",
							"type": "integer"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success, the post's information was updated"
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "No message specified || You can only update your own posts|| SQLite Error Message"
								}
							}
						}
					}
				}
			},
			"delete": {
				"tags": ["Posts"],
				"description": "Deletes a specific post",
				"parameters": [
					{
						"name": "id",
						"description": "The ID of the post that is to be deleted.",
						"in": "path",
						"schema": {
							"title": "id",
							"type": "integer"
						}
					}
				],
				"responses": {
					"204": {
						"description": "Success, the post has been deleted"
					},
					"403": {
						"description": "You can only delete your own posts"
					},
					"404": {
						"description": "Post not found"
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "SQLite Error Message"
								}
							}
						}
					}
				}
			}
		},
		"/posts/upvote/:id": {
			"get": {
				"tags": ["Upvotes and downvotes"],
				"description": "Upvote a post",
				"parameters": [
					{
						"name": "id",
						"description": "The ID of the post that is to be upvoted.",
						"in": "path",
						"schema": {
							"title": "id",
							"type": "integer"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success, you have upvoted a post"
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "You cannot vote for yourself || You have already voted || SQLite Error Message"
								}
							}
						}
					},
					"404": {
						"description": "Post not found"
					}
				}
			}
		},
		"/posts/downvote/:id": {
			"get": {
				"tags": ["Upvotes and downvotes"],
				"description": "Downvote a post",
				"parameters": [
					{
						"name": "id",
						"description": "The ID of the post that is to be downvoted.",
						"in": "path",
						"schema": {
							"title": "id",
							"type": "integer"
						}
					}
				],
				"responses": {
					"200": {
						"description": "Success, you have downvoted a post"
					},
					"400": {
						"description": "The error message",
						"schema": {
							"title": "error",
							"type": "object",
							"xml": {
								"name": "data"
							},
							"properties": {
								"error": {
									"example": "You cannot vote for yourself || You have already voted || SQLite Error Message"
								}
							}
						}
					},
					"404": {
						"description": "Post not found"
					}
				}
			}
		}
	}
}
